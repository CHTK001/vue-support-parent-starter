@use "custom";
@use "theme";
@use "transition";
@use "element-plus";
@use "sidebar";
@use "el-ui";
@use "../theme-skin/index" as themeSkin;
// 导入颜色系统
@use "../../colors/index" as colors;
// 导入Element Plus主题覆盖
@use "../../element-plus/theme-override";

// sass 混合宏（函数）
/* 自定义全局 CssVar */
:root {
  --el-padding-xs: 8px;
  --el-padding-sm: 12px;
  --el-padding: 16px;
  --el-card-border-color: var(--el-border-color);
  --el-card-border-radius: var(--el-border-radius, var(--borderRadius));
  --zindex-base: 3000;
  --zindex-affix: calc(var(--zindex-base) + 1);
  --zindex-modal: calc(var(--zindex-base) + 10);
  /* 其他z-index变量... */
  --el-text-color-primary-2: #666;
  --navbar-height: 48px;
  /* 左侧菜单展开、收起动画时长 */
  --pure-transition-duration: 0.3s;

  /* 常用border-color 需要时可取用 */
  --pure-border-color: rgb(5 5 5 / 6%);

  /* switch关闭状态下的color 需要时可取用 */
  --pure-switch-off-color: #a6a6a6;

  /** 主题色 */
  --pure-theme-sub-menu-active-text: var(--app-text-primary);
  --pure-theme-menu-bg: var(--app-glass-bg, var(--app-bg-primary));
  --pure-theme-menu-hover: var(--app-bg-secondary);
  --pure-theme-sub-menu-bg: var(--app-glass-bg, var(--app-bg-primary));
  --pure-theme-menu-text: var(--app-text-secondary);
  --pure-theme-sidebar-logo: var(--app-glass-bg, var(--app-bg-primary));
  --pure-theme-menu-title-hover: var(--app-text-primary);
  --pure-theme-menu-active-before: var(--app-primary);

  --wanx-v2-font400: normal;
  --wanx-v2-font500: bold;
  --wanx-v2-font600: bold;
  --wanx-v2-font400: 400;
  --wanx-v2-font500: 500;
  --wanx-v2-font600: 600;
  --wanx-v2-color1: #615ced;
  --wanx-v2-color2: #534ad1;
  --wanx-v2-color3: #fff;
  --wanx-v2-color4: #fafafc;
  --wanx-v2-color5: #f3f2ff;
  --wanx-v2-color6: #e6e5ff;
  --wanx-v2-color7: #f7f8fc;
  --wanx-v2-color8: #edeff5;
  --wanx-v2-color10: #585a73;
  --wanx-v2-disabled1: rgba(97, 92, 237, 0.3);
  --wanx-v2-disabled2: #c8cad9;
  --wanx-v2-disabled3: #f2f3f7;
  --wanx-v2-disabled4: #c6c4ff;
  --wanx-v2-shadow1: 0px 6.24px 15.6px 0px rgba(155, 139, 228, 0.141);
}

/* 灰色模式 */
.html-grey {
  filter: grayscale(100%);
}

body {
  color: var(--el-text-color-primary);
}

/* 深色模式下 SVG 图标默认为白色 */
html.dark svg {
  color: #ffffff;
  fill: #ffffff;
}

/* 色弱模式 - 优化的色觉辅助滤镜 */
.html-weakness {
  /* 红绿色盲辅助：提高红绿色对比度 */
  filter: saturate(1.4) contrast(1.1) hue-rotate(-10deg);
}

/* 高对比度模式 */
.html-high-contrast {
  filter: contrast(1.4) saturate(1.2);
  
  /* 增强文字可读性 */
  * {
    text-shadow: none !important;
  }
}

/* 读屏优化模式：增强键盘焦点与可读性 */
html.a11y-screen-reader {
  scroll-behavior: auto;

  /* 鼠标和键盘聚焦都高亮，方便直接看到效果 */
  *:focus,
  *:focus-visible {
    outline: 2px solid var(--el-color-primary);
    outline-offset: 2px;
  }
}

/* 护眼模式 - 降低蓝光 */
.html-eye-protection {
  filter: sepia(0.15) saturate(0.9) brightness(0.95);
  
  /* 降低蓝色分量 */
  &::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 180, 100, 0.08);
    pointer-events: none;
    z-index: 99999;
  }
}

/* 动画减弱模式 - 无障碍支持 */
.html-reduce-motion {
  /* 减少所有动画 */
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

.fullscreen {
  width: 100%;
  height: 100%;
  overflow: hidden;
  inset: 0;
}
