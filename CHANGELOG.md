# 更新日志

## [未发布] - QPS限流配置功能

### 🎉 新增功能

- **QPS限流配置页面**：

  - **🔧 多种限流算法**：支持令牌桶、滑动窗口、Guava限流器
  - **⚡ 灵活阈值配置**：支持每秒/每分钟/每小时/每天的限流配置
  - **🛡️ 拒绝策略**：支持限流惩罚和黑名单策略
  - **⏰ 惩罚机制**：支持临时惩罚和永久惩罚配置
  - **🌐 IP访问控制**：支持白名单和黑名单IP配置
  - **📊 实时预览**：配置实时预览和JSON格式展示
  - **🔄 热应用**：配置保存后立即生效，无需重启服务

- **请求指纹配置功能**：

  - **🔐 多种摘要算法**：支持SHA-256、SHA-1、MD5、SHA-512等算法
  - **🎯 灵活指纹内容**：可选择包含HTTP方法、路径、参数、请求头、请求体
  - **🧂 盐值支持**：支持自定义盐值增强安全性
  - **🔄 去重机制**：支持基于指纹的请求去重，可配置有效期
  - **🚫 重复拦截**：可选择拦截重复请求或仅记录指纹
  - **📝 自定义响应头**：可配置指纹输出的响应头名称
  - **⚡ 热重载**：配置变更后自动清理缓存并生效

- **后端API支持**：
  - 新增 `getFilterConfig` 接口获取ServletFilter配置
  - 新增 `saveFilterConfig` 接口保存ServletFilter配置
  - 支持JSON格式配置存储到数据库
  - 配置热应用到运行中的服务器

### 🔧 技术实现

- **前端组件**：`FilterConfigQpsRateLimit.vue`

  - 响应式配置界面设计
  - 支持多种限流参数配置
  - IP白名单/黑名单管理
  - 配置验证和错误处理

- **后端接口**：
  - `SystemServerSettingController` 新增配置管理接口
  - `SystemServerSettingService` 实现配置存储和应用逻辑
  - 使用Jackson进行JSON序列化/反序列化

### 📋 配置项说明

- **基础配置**：

  - `enabled`: 启用状态
  - `limiterType`: 限流器类型（token/sliding/guava）

- **限流阈值**：

  - `threshold`: 限流阈值数值
  - `timeUnit`: 时间单位（SECOND/MINUTE/HOUR/DAY）

- **拒绝策略**：

  - `rejectStrategy`: 拒绝策略（LIMIT/BLACKLIST）
  - `penaltyDuration`: 惩罚时长
  - `penaltyPermanent`: 是否永久惩罚
  - `penaltyThreshold`: 惩罚阈值

- **IP访问控制**：
  - `whitelistIps`: 白名单IP列表
  - `blacklistIps`: 黑名单IP列表

### 🎯 使用场景

- **API接口限流**：防止恶意请求和系统过载
- **用户访问控制**：基于IP的访问限制
- **服务保护**：保护后端服务免受高并发冲击
- **流量整形**：平滑处理突发流量

### 📈 性能特性

- **低延迟**：配置变更实时生效
- **高并发**：支持高并发场景下的限流控制
- **内存友好**：高效的限流算法实现
- **可扩展**：支持多种限流策略扩展

---

## 历史版本

### [1.0.0] - 基础功能

- 初始版本发布
- 基础服务管理功能
- IP限流和地址限流配置
