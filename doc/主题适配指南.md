# 主题适配指南

## 概述

本项目支持浅色和深色两种主题模式。为了确保所有页面在两种模式下都能正常显示，需要遵循以下规范。

## 颜色变量使用规范

### 1. 文本颜色

```scss
// 推荐使用 Element Plus 变量
color: var(--el-text-color-primary); // 主要文本
color: var(--el-text-color-regular); // 常规文本
color: var(--el-text-color-secondary); // 次要文本
color: var(--el-text-color-placeholder); // 占位符文本
color: var(--el-text-color-disabled); // 禁用文本

// 或使用自定义应用变量
color: var(--app-text-primary);
color: var(--app-text-secondary);
```

### 2. 背景颜色

```scss
// 推荐使用 Element Plus 变量
background: var(--el-bg-color); // 基础背景
background: var(--el-bg-color-page); // 页面背景
background: var(--el-bg-color-overlay); // 覆盖层背景
background: var(--el-fill-color-light); // 浅色填充
background: var(--el-fill-color-lighter); // 更浅填充
background: var(--el-fill-color-dark); // 深色填充
```

### 3. 边框颜色

```scss
border-color: var(--el-border-color); // 基础边框
border-color: var(--el-border-color-light); // 浅色边框
border-color: var(--el-border-color-lighter); // 更浅边框
border-color: var(--el-border-color-dark); // 深色边框
```

### 4. 主题色

```scss
color: var(--el-color-primary); // 主题色
color: var(--el-color-primary-light-3); // 主题色浅色
color: var(--el-color-primary-light-5);
color: var(--el-color-primary-light-7);
color: var(--el-color-primary-light-9);
color: var(--el-color-primary-dark-2); // 主题色深色
```

## 禁止使用的硬编码颜色

以下颜色应该替换为 CSS 变量：

| 硬编码颜色           | 替换为                             |
| -------------------- | ---------------------------------- |
| `#fff`, `white`      | `var(--el-bg-color)`               |
| `#000`, `black`      | `var(--el-text-color-primary)`     |
| `#333`, `#303133`    | `var(--el-text-color-primary)`     |
| `#606266`            | `var(--el-text-color-regular)`     |
| `#909399`            | `var(--el-text-color-secondary)`   |
| `#c0c4cc`            | `var(--el-text-color-placeholder)` |
| `#f5f7fa`, `#f0f2f5` | `var(--el-fill-color-light)`       |
| `#e4e7ed`, `#ebeef5` | `var(--el-border-color-light)`     |
| `#dcdfe6`            | `var(--el-border-color)`           |

## 深色主题适配

### 使用 `html.dark` 选择器

```scss
// 在 scoped 样式中使用
.my-component {
  background: var(--el-bg-color);
  color: var(--el-text-color-primary);
}

// 深色主题特殊处理
html.dark {
  .my-component {
    // 深色主题特有样式
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
  }
}
```

### 使用 rgba 配合 CSS 变量

```scss
// 使用 Element Plus 提供的 RGB 变量
background: rgba(var(--el-color-primary-rgb), 0.1);
box-shadow: 0 2px 12px rgba(var(--el-color-primary-rgb), 0.15);
```

## 检查清单

在提交代码前，请确保：

- [ ] 没有使用硬编码的颜色值
- [ ] 所有文本颜色使用 CSS 变量
- [ ] 所有背景颜色使用 CSS 变量
- [ ] 所有边框颜色使用 CSS 变量
- [ ] 在深色模式下测试过页面显示效果
- [ ] 悬浮、激活等状态在深色模式下正常显示

## 常见问题

### Q: 为什么我的组件在深色模式下文字看不清？

A: 检查是否使用了硬编码的文字颜色，如 `color: #333`，应替换为 `color: var(--el-text-color-primary)`。

### Q: 如何让阴影在深色模式下更明显？

A: 在深色模式下增加阴影的不透明度：

```scss
html.dark {
  .my-card {
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
  }
}
```

### Q: 如何处理图片在深色模式下的显示？

A: 可以使用 CSS filter 或提供深色版本的图片：

```scss
html.dark {
  .my-image {
    filter: brightness(0.9);
  }
}
```

## 已适配目录

以下目录已完成深色主题适配：

| 目录                               | 状态        | 说明         |
| ---------------------------------- | ----------- | ------------ |
| `pages/example`                    | ✅ 已完成   | 示例组件目录 |
| `layout/default`                   | ✅ 已完成   | 默认布局组件 |
| `apps/vue-support-monitor-starter` | ✅ 已完成   | 监控应用     |
| `pages/system`                     | ✅ 已完成   | 系统管理页面 |
| `packages/components`              | ✅ 部分完成 | 公共组件库   |

## 通用样式文件

项目中已创建以下通用深色主题样式文件：

- `pages/example/src/styles/example-common.scss` - 示例页面通用样式
- `apps/vue-support-monitor-starter/src/styles/theme-common.scss` - 监控应用通用样式

## 阴影变量

```scss
// Element Plus 阴影变量
box-shadow: var(--el-box-shadow); // 基础阴影
box-shadow: var(--el-box-shadow-light); // 浅色阴影
box-shadow: var(--el-box-shadow-lighter); // 更浅阴影
box-shadow: var(--el-box-shadow-dark); // 深色阴影
```
