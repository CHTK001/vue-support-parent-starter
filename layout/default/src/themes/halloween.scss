/**
 * ä¸‡åœ£èŠ‚ä¸»é¢˜çš®è‚¤ - æ·±åº¦å®šåˆ¶ç‰ˆ
 * @author CH
 * @date 2026-02-04
 * @version 2.0.0
 * @description åŒ…å«ä¸“å±å›¾æ ‡è®¾è®¡ã€ç‰¹è‰²åŠ¨ç”»æ•ˆæœã€èŠ‚æ—¥ç‰¹æœ‰çš„UIå…ƒç´ å’Œäº¤äº’åé¦ˆ
 */

// ==================== æ ¸å¿ƒå˜é‡å®šä¹‰ ====================
:root.theme-halloween {
  // --- è°ƒè‰²æ¿ ---
  --hw-pumpkin-orange: #ff7518;
  --hw-pumpkin-dark: #cc5e13;
  --hw-slime-green: #76ff03;
  --hw-slime-dark: #52b202;
  --hw-ghost-white: #f8f8ff;
  --hw-deep-purple: #2c003e;
  --hw-midnight-purple: #1a0026;
  --hw-witch-purple: #4a0e68;
  --hw-blood-red: #ff0000;

  // --- è¯­ä¹‰åŒ–å˜é‡ ---
  --theme-primary: var(--hw-pumpkin-orange);
  --theme-secondary: var(--hw-slime-green);
  --theme-accent: var(--hw-ghost-white);
  --theme-background: var(--hw-deep-purple);
  --theme-text: var(--hw-ghost-white);
  --theme-border: var(--hw-witch-purple);

  // --- Element Plus è¦†ç›– ---
  --el-color-primary: var(--hw-pumpkin-orange);
  --el-color-primary-light-3: #ff9f5a;
  --el-color-primary-light-5: #ffb885;
  --el-color-primary-light-7: #ffd1b0;
  --el-color-primary-light-8: #ffe0c9;
  --el-color-primary-light-9: #fff0e3;
  --el-color-primary-dark-2: var(--hw-pumpkin-dark);
  
  --el-color-success: var(--hw-slime-green);
  --el-color-warning: #ffb302;
  --el-color-danger: var(--hw-blood-red);
  --el-color-info: #909399;

  --el-bg-color: var(--hw-deep-purple);
  --el-bg-color-overlay: rgba(44, 0, 62, 0.95);
  --el-bg-color-page: var(--hw-midnight-purple);
  
  --el-text-color-primary: var(--hw-ghost-white);
  --el-text-color-regular: #dcdcdc;
  --el-text-color-secondary: #a8a8a8;
  --el-text-color-placeholder: #6a6a6a;

  --el-border-color: var(--hw-witch-purple);
  --el-border-color-light: #5d1680;
  --el-border-color-lighter: #702099;
  --el-border-color-extra-light: #852cb5;

  // --- é˜´å½±ä¸å‘å…‰ ---
  --hw-shadow-glow: 0 0 10px rgba(118, 255, 3, 0.3);
  --hw-shadow-pumpkin: 0 0 10px rgba(255, 117, 24, 0.3);
  --hw-shadow-card: 0 4px 12px rgba(0, 0, 0, 0.5);
}

// ==================== åŠ¨ç”»å®šä¹‰ ====================
@keyframes hw-float {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-5px); }
  100% { transform: translateY(0px); }
}

@keyframes hw-flicker {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.8; }
  70% { opacity: 0.9; }
  80% { opacity: 0.6; }
}

@keyframes hw-shake {
  0% { transform: rotate(0deg); }
  25% { transform: rotate(2deg); }
  75% { transform: rotate(-2deg); }
  100% { transform: rotate(0deg); }
}

@keyframes hw-web-sway {
  0% { transform: rotate(-2deg); }
  50% { transform: rotate(2deg); }
  100% { transform: rotate(-2deg); }
}

// ==================== å…¨å±€æ ·å¼é‡ç½®ä¸è£…é¥° ====================
.theme-halloween {
  background-color: var(--hw-midnight-purple);
  background-image: radial-gradient(circle at 50% 50%, #3d005e 0%, #1a0026 100%);
  min-height: 100vh;

  // æ»šåŠ¨æ¡æ ·å¼
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  ::-webkit-scrollbar-track {
    background: var(--hw-midnight-purple);
  }
  ::-webkit-scrollbar-thumb {
    background: var(--hw-witch-purple);
    border-radius: 4px;
    &:hover {
      background: var(--hw-pumpkin-orange);
    }
  }

  // é€‰ä¸­æ–‡æœ¬
  ::selection {
    background: var(--hw-pumpkin-orange);
    color: #000;
  }
}

// ==================== å¸ƒå±€ç»„ä»¶æ·±åº¦å®šåˆ¶ ====================

// --- é¡¶éƒ¨å¯¼èˆªæ  ---
.theme-halloween :deep(.lay-navbar) {
  background: linear-gradient(180deg, var(--hw-deep-purple) 0%, #220033 100%);
  border-bottom: 2px solid var(--hw-slime-green);
  box-shadow: 0 5px 20px rgba(0,0,0,0.6);
  position: relative;
  overflow: hidden;

  // å·¦ä¸Šè§’èœ˜è››ç½‘è£…é¥°
  &::before {
    content: "";
    position: absolute;
    top: -10px;
    left: -10px;
    width: 100px;
    height: 100px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' fill='none' stroke='%23ffffff' stroke-opacity='0.15' stroke-width='1'%3E%3Cpath d='M0 0 L100 100 M0 50 L100 50 M50 0 L50 100 M0 100 L100 0' /%3E%3Ccircle cx='50' cy='50' r='10' /%3E%3Ccircle cx='50' cy='50' r='20' /%3E%3Ccircle cx='50' cy='50' r='30' /%3E%3Ccircle cx='50' cy='50' r='40' /%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
    pointer-events: none;
    animation: hw-web-sway 5s infinite ease-in-out;
    z-index: 0;
  }

  // å³ä¸Šè§’èœ˜è››ç½‘è£…é¥°
  &::after {
    content: "";
    position: absolute;
    top: -10px;
    right: -10px;
    width: 120px;
    height: 120px;
    transform: scaleX(-1);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' fill='none' stroke='%23ffffff' stroke-opacity='0.15' stroke-width='1'%3E%3Cpath d='M0 0 L100 100 M0 50 L100 50 M50 0 L50 100 M0 100 L100 0' /%3E%3Ccircle cx='50' cy='50' r='10' /%3E%3Ccircle cx='50' cy='50' r='20' /%3E%3Ccircle cx='50' cy='50' r='30' /%3E%3Ccircle cx='50' cy='50' r='40' /%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
    pointer-events: none;
    z-index: 0;
  }

  .navbar-container {
    position: relative;
    z-index: 1;
  }

  // é¢åŒ…å±‘
  .el-breadcrumb__inner {
    color: var(--hw-ghost-white) !important;
    &.is-link:hover {
      color: var(--hw-slime-green) !important;
      text-shadow: 0 0 5px var(--hw-slime-green);
    }
  }

  // å›¾æ ‡æŒ‰é’®
  .navbar-action-item {
    color: var(--hw-ghost-white);
    transition: all 0.3s;
    
    &:hover {
      color: var(--hw-pumpkin-orange);
      background: rgba(255, 117, 24, 0.1);
      transform: scale(1.1);
      
      .iconify {
        animation: hw-shake 0.5s;
      }
    }
  }
}

// --- ä¾§è¾¹æ èœå• ---
.theme-halloween :deep(.lay-sidebar) {
  background: var(--hw-midnight-purple);
  border-right: 1px solid var(--hw-witch-purple);

  .el-menu {
    background: transparent;
    border: none;

    // èœå•é¡¹
    .el-menu-item, .el-sub-menu__title {
      color: #dcdcdc;
      
      &:hover {
        background: rgba(118, 255, 3, 0.1);
        color: var(--hw-slime-green);
        
        i, .iconify {
          color: var(--hw-slime-green);
          filter: drop-shadow(0 0 2px var(--hw-slime-green));
        }
      }

      &.is-active {
        background: rgba(255, 117, 24, 0.15);
        color: var(--hw-pumpkin-orange);
        border-right: 3px solid var(--hw-pumpkin-orange);
        
        i, .iconify {
          color: var(--hw-pumpkin-orange);
          animation: hw-float 3s infinite ease-in-out;
        }
      }
    }
  }

  // LogoåŒºåŸŸ
  .sidebar-logo-container {
    background: var(--hw-deep-purple);
    border-bottom: 1px solid var(--hw-witch-purple);
    
    .sidebar-title {
      color: var(--hw-pumpkin-orange);
      font-family: 'Creepster', cursive, sans-serif; // å¦‚æœæœ‰å­—ä½“æœ€å¥½ï¼Œæ²¡æœ‰åˆ™å›é€€
      text-shadow: 2px 2px 0px #000;
    }
  }
}

// --- æ ‡ç­¾é¡µ (Tags View) ---
.theme-halloween :deep(.lay-tags-view) {
  background: var(--hw-deep-purple);
  border-bottom: 1px solid var(--hw-witch-purple);
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);

  .tags-view-item {
    background: rgba(74, 14, 104, 0.5);
    border: 1px solid var(--hw-witch-purple);
    color: #ccc;
    border-radius: 4px 12px 4px 12px; // å¥‡æ€ªçš„å½¢çŠ¶
    margin-right: 6px;
    transition: all 0.3s;

    &:hover {
      color: var(--hw-slime-green);
      border-color: var(--hw-slime-green);
      transform: translateY(-2px);
    }

    &.active {
      background: var(--hw-pumpkin-orange);
      color: #fff;
      border-color: var(--hw-pumpkin-orange);
      box-shadow: 0 0 8px rgba(255, 117, 24, 0.5);
      
      .el-icon-close {
        color: #fff;
        &:hover {
          background: rgba(0,0,0,0.2);
        }
      }
    }
  }
}

// ==================== Element Plus ç»„ä»¶å®šåˆ¶ ====================

// --- å¡ç‰‡ ---
.theme-halloween :deep(.el-card) {
  background: rgba(44, 0, 62, 0.8);
  border: 1px solid var(--hw-witch-purple);
  color: var(--hw-ghost-white);
  transition: all 0.3s;
  
  &:hover {
    border-color: var(--hw-pumpkin-orange);
    box-shadow: var(--hw-shadow-pumpkin);
    transform: translateY(-2px);
  }

  .el-card__header {
    border-bottom: 1px solid var(--hw-witch-purple);
    font-weight: bold;
    color: var(--hw-pumpkin-orange);
  }
}

// --- æŒ‰é’® ---
.theme-halloween :deep(.el-button) {
  // é»˜è®¤æŒ‰é’®
  background: rgba(255,255,255,0.05);
  border-color: var(--hw-witch-purple);
  color: var(--hw-ghost-white);
  
  &:hover {
    color: var(--hw-pumpkin-orange);
    border-color: var(--hw-pumpkin-orange);
    background: rgba(255, 117, 24, 0.1);
  }

  // ä¸»è¦æŒ‰é’® (å—ç“œæ©™)
  &.el-button--primary {
    background: var(--hw-pumpkin-orange);
    border-color: var(--hw-pumpkin-orange);
    color: #fff;
    font-weight: bold;
    
    &:hover {
      background: var(--hw-pumpkin-dark);
      border-color: var(--hw-pumpkin-dark);
      box-shadow: 0 0 10px rgba(255, 117, 24, 0.6);
      animation: hw-shake 0.5s;
    }
  }

  // æˆåŠŸæŒ‰é’® (å²è±å§†ç»¿)
  &.el-button--success {
    background: var(--hw-slime-green);
    border-color: var(--hw-slime-green);
    color: #000;
    
    &:hover {
      background: var(--hw-slime-dark);
      box-shadow: 0 0 10px rgba(118, 255, 3, 0.6);
    }
  }
  
  // å±é™©æŒ‰é’® (è¡€çº¢)
  &.el-button--danger {
    background: var(--hw-blood-red);
    border-color: var(--hw-blood-red);
    
    &:hover {
      box-shadow: 0 0 10px rgba(255, 0, 0, 0.6);
    }
  }
}

// --- è¾“å…¥æ¡† ---
.theme-halloween :deep(.el-input__wrapper) {
  background: rgba(0, 0, 0, 0.2);
  box-shadow: 0 0 0 1px var(--hw-witch-purple) inset;
  
  &.is-focus {
    box-shadow: 0 0 0 1px var(--hw-pumpkin-orange) inset !important;
  }
  
  .el-input__inner {
    color: var(--hw-ghost-white);
    &::placeholder {
      color: #6a6a6a;
    }
  }
}

// --- è¡¨æ ¼ ---
.theme-halloween :deep(.el-table) {
  background: transparent;
  color: var(--hw-ghost-white);
  --el-table-header-bg-color: rgba(74, 14, 104, 0.4);
  --el-table-row-hover-bg-color: rgba(118, 255, 3, 0.1);
  --el-table-border-color: var(--hw-witch-purple);
  --el-table-tr-bg-color: transparent;

  th.el-table__cell {
    background: rgba(74, 14, 104, 0.4);
    color: var(--hw-pumpkin-orange);
  }
  
  td.el-table__cell {
    border-bottom: 1px solid var(--hw-witch-purple);
  }
}

// --- å¯¹è¯æ¡† ---
.theme-halloween :deep(.el-dialog) {
  background: var(--hw-deep-purple);
  border: 2px solid var(--hw-pumpkin-orange);
  box-shadow: 0 0 30px rgba(0,0,0,0.8);
  border-radius: 8px;

  .el-dialog__header {
    border-bottom: 1px solid var(--hw-witch-purple);
    margin-right: 0;
    
    .el-dialog__title {
      color: var(--hw-pumpkin-orange);
      &::before {
        content: "ğŸƒ ";
      }
    }
  }

  .el-dialog__body {
    color: var(--hw-ghost-white);
  }
}

// --- æ ‡ç­¾ Tag ---
.theme-halloween :deep(.el-tag) {
  border-radius: 12px 4px 12px 4px;
  
  &.el-tag--primary {
    background: rgba(255, 117, 24, 0.2);
    border-color: var(--hw-pumpkin-orange);
    color: var(--hw-pumpkin-orange);
  }
  
  &.el-tag--success {
    background: rgba(118, 255, 3, 0.2);
    border-color: var(--hw-slime-green);
    color: var(--hw-slime-green);
  }
}

// --- åŠ è½½ Loading ---
.theme-halloween :deep(.el-loading-mask) {
  background-color: rgba(26, 0, 38, 0.9);
  
  .el-loading-spinner {
    .path {
      stroke: var(--hw-pumpkin-orange);
    }
    .el-loading-text {
      color: var(--hw-pumpkin-orange);
    }
  }
}

// --- Switch å¼€å…³ ---
.theme-halloween :deep(.el-switch) {
  &.is-checked .el-switch__core {
    background-color: var(--hw-slime-green);
    border-color: var(--hw-slime-green);
  }
}

// --- Pagination åˆ†é¡µ ---
.theme-halloween :deep(.el-pagination) {
  button {
    background: transparent !important;
    color: var(--hw-ghost-white);
    &:disabled {
      color: #555;
    }
  }
  
  .el-pager li {
    background: transparent !important;
    color: var(--hw-ghost-white);
    
    &.is-active {
      color: var(--hw-pumpkin-orange);
      font-weight: bold;
    }
    
    &:hover:not(.is-active) {
      color: var(--hw-slime-green);
    }
  }
}
