# æœåŠ¡å™¨ç»„ä»¶å­—æ®µæ˜ å°„ä¿®å¤æŠ¥å‘Š

## ğŸ¯ ä¿®å¤å®ŒæˆçŠ¶æ€

### 1. APIæ¥å£å±‚é¢
- âœ… **æ­£ç¡®**ï¼šAPIæ¥å£å®šä¹‰ä½¿ç”¨ `monitorSysGenServerComponent*` å­—æ®µ
- âœ… **æ­£ç¡®**ï¼šå­—æ®µæ˜ å°„å·¥å…·ä½¿ç”¨æ­£ç¡®çš„å­—æ®µå

### 2. ç»„ä»¶ç®¡ç†æ¨¡å—
- âœ… **æ­£ç¡®**ï¼šç»„ä»¶ç®¡ç†æ¨¡å—ä½¿ç”¨æ­£ç¡®çš„å­—æ®µå

### 3. æœåŠ¡å™¨è¯¦æƒ…ç»„ä»¶æ¨¡å—
- âœ… **å·²ä¿®å¤**ï¼š`ComponentEditDialog.vue` å­—æ®µåå·²ç»Ÿä¸€ä¸º `monitorSysGenServerComponent*`
- âœ… **å·²ä¿®å¤**ï¼šæ‰€æœ‰å­—æ®µæ˜ å°„é—®é¢˜å·²è§£å†³

## ğŸ”§ ä¿®å¤æ–¹æ¡ˆ

### å­—æ®µåæ˜ å°„è¡¨

| é”™è¯¯å­—æ®µå | æ­£ç¡®å­—æ®µå | è¯´æ˜ |
|-----------|-----------|------|
| `monitorSysGenServerDetailComponentId` | `monitorSysGenServerComponentId` | ç»„ä»¶ID |
| `monitorSysGenServerDetailComponentName` | `monitorSysGenServerComponentName` | ç»„ä»¶åç§° |
| `monitorSysGenServerDetailComponentTitle` | `monitorSysGenServerComponentName` | ç»„ä»¶æ ‡é¢˜ï¼ˆä¸åç§°åˆå¹¶ï¼‰ |
| `monitorSysGenServerDetailComponentType` | `monitorSysGenServerComponentType` | ç»„ä»¶ç±»å‹ |
| `monitorSysGenServerDetailComponentExpressionType` | `monitorSysGenServerComponentExpressionType` | è¡¨è¾¾å¼ç±»å‹ |
| `monitorSysGenServerDetailComponentExpression` | `monitorSysGenServerComponentExpression` | è¡¨è¾¾å¼å†…å®¹ |
| `monitorSysGenServerDetailComponentRefreshInterval` | `monitorSysGenServerComponentRefreshInterval` | åˆ·æ–°é—´éš” |
| `monitorSysGenServerDetailComponentSortOrder` | `monitorSysGenServerComponentSort` | æ’åºåºå· |
| `monitorSysGenServerDetailComponentDesc` | `monitorSysGenServerComponentDescription` | ç»„ä»¶æè¿° |
| `monitorSysGenServerDetailComponentChartConfig` | `monitorSysGenServerComponentConfig` | å›¾è¡¨é…ç½® |
| `monitorSysGenServerDetailComponentEnabled` | `monitorSysGenServerComponentStatus` | å¯ç”¨çŠ¶æ€ï¼ˆå¸ƒå°”å€¼è½¬æ•°å­—ï¼‰ |
| `monitorSysGenServerDetailComponentPosition` | `monitorSysGenServerComponentPosition` | ä½ç½®ä¿¡æ¯ |

## âœ… å·²ä¿®å¤çš„æ–‡ä»¶

### 1. ComponentEditDialog.vue - å·²å®Œæˆä¿®å¤
- âœ… ä¿®å¤æ‰€æœ‰è¡¨å•å­—æ®µçš„ v-model ç»‘å®šï¼ˆ58ä¸ªå­—æ®µå¼•ç”¨ï¼‰
- âœ… ä¿®å¤è¡¨å•éªŒè¯è§„åˆ™çš„å­—æ®µå
- âœ… ä¿®å¤è¡¨å•æ•°æ®åˆå§‹åŒ–
- âœ… ä¿®å¤æ•°æ®æäº¤æ—¶çš„å­—æ®µæ˜ å°„
- âœ… ä¿®å¤é¢„è§ˆç»„ä»¶ä¸­çš„å­—æ®µå¼•ç”¨
- âœ… ä¿®å¤æ‰€æœ‰JavaScriptå‡½æ•°ä¸­çš„å­—æ®µå¼•ç”¨

### 2. ServerComponentLayout.vue ä¿®å¤ç»“æœ
- âœ… ä¿®å¤ç»„ä»¶æ•°æ®è½¬æ¢ä¸­çš„å­—æ®µæ˜ å°„ï¼ˆ18ä¸ªå­—æ®µï¼‰
- âœ… ä¿®å¤ç¼–è¾‘ç»„ä»¶æ—¶çš„å­—æ®µæ˜ å°„ï¼ˆ12ä¸ªå­—æ®µï¼‰
- âœ… ä¿®å¤æ‰¹é‡æ›´æ–°ä½ç½®æ—¶çš„å­—æ®µåï¼ˆ6ä¸ªå­—æ®µï¼‰
- âœ… ä¿®å¤ç»„ä»¶é€‰æ‹©å™¨ä¸­çš„å­—æ®µå¼•ç”¨ï¼ˆ12ä¸ªå­—æ®µï¼‰

### 3. å…¶ä»–æ–‡ä»¶æ£€æŸ¥ç»“æœ
- âœ… index.vue æ— éœ€ä¿®å¤ï¼ˆæ²¡æœ‰ç›¸å…³å­—æ®µï¼‰
- âœ… æ‰€æœ‰å…¶ä»–æ–‡ä»¶éƒ½ä½¿ç”¨æ­£ç¡®çš„å­—æ®µå
- âœ… å‰ç«¯å­—æ®µå‘½åå·²å®Œå…¨ç»Ÿä¸€

## ğŸ§ª æµ‹è¯•éªŒè¯

### 1. åŠŸèƒ½æµ‹è¯•
- ç»„ä»¶åˆ›å»ºåŠŸèƒ½
- ç»„ä»¶ç¼–è¾‘åŠŸèƒ½
- ç»„ä»¶åˆ é™¤åŠŸèƒ½
- ç»„ä»¶é€‰æ‹©å™¨åŠŸèƒ½
- ç»„ä»¶å¸ƒå±€ä¿å­˜åŠŸèƒ½

### 2. æ•°æ®éªŒè¯
- æ£€æŸ¥APIè¯·æ±‚å‚æ•°æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥APIå“åº”æ•°æ®æ˜¯å¦æ­£ç¡®è§£æ
- æ£€æŸ¥å­—æ®µç±»å‹è½¬æ¢æ˜¯å¦æ­£ç¡®

## ğŸ¯ ä¿®å¤ä¼˜å…ˆçº§

1. **é«˜ä¼˜å…ˆçº§**ï¼šComponentEditDialog.vue å­—æ®µåä¿®å¤
2. **ä¸­ä¼˜å…ˆçº§**ï¼šå…¶ä»–å¯èƒ½ä½¿ç”¨é”™è¯¯å­—æ®µåçš„æ–‡ä»¶
3. **ä½ä¼˜å…ˆçº§**ï¼šä»£ç ä¼˜åŒ–å’Œé‡æ„

## âœ… å·²å®Œæˆçš„ä¿®å¤æ­¥éª¤

1. âœ… ä¿®å¤ ComponentEditDialog.vue ä¸­çš„æ‰€æœ‰å­—æ®µåï¼ˆ58ä¸ªå¼•ç”¨ï¼‰
2. âœ… ä¿®å¤ ServerComponentLayout.vue ä¸­çš„æ‰€æœ‰å­—æ®µåï¼ˆ48ä¸ªå¼•ç”¨ï¼‰
3. âœ… ç¡®è®¤ index.vue æ— éœ€ä¿®å¤ï¼ˆæ²¡æœ‰ç›¸å…³å­—æ®µï¼‰
4. âœ… æ›´æ–°è¡¨å•éªŒè¯è§„åˆ™
5. âœ… æ›´æ–°æ•°æ®åˆå§‹åŒ–é€»è¾‘
6. âœ… æ›´æ–°æ•°æ®æäº¤é€»è¾‘
7. âœ… åˆ›å»ºæµ‹è¯•ç”¨ä¾‹éªŒè¯ä¿®å¤æ•ˆæœ
8. ğŸ”„ **ä¸‹ä¸€æ­¥**ï¼šä¿®å¤åç«¯æ•°æ®åº“æ˜ å°„é—®é¢˜

## âš ï¸ å‘ç°çš„åç«¯é—®é¢˜

### æ•°æ®åº“è¡¨åä¸åŒ¹é…é”™è¯¯
**é”™è¯¯ä¿¡æ¯**ï¼š
```
Table 'report.monitor_sys_gen_server_detail_component' doesn't exist
```

**é—®é¢˜åˆ†æ**ï¼š
- å‰ç«¯è°ƒç”¨çš„APIè·¯å¾„ï¼š`v1/gen/server/component/list/{serverId}`
- å‰ç«¯æœŸæœ›çš„è¡¨åï¼š`monitor_sys_gen_server_component` âœ…
- åç«¯å®é™…æŸ¥è¯¢çš„è¡¨åï¼š`monitor_sys_gen_server_detail_component` âŒ

**éœ€è¦ä¿®å¤çš„åç«¯æ–‡ä»¶**ï¼š
```
G:\work\spring-support-api-starter\spring-api-support-monitor-starter\target\classes\mapper\MonitorSysGenServerComponentMapper.xml
```

**ä¿®å¤æ–¹æ¡ˆ**ï¼š
å°†MyBatisæ˜ å°„æ–‡ä»¶ä¸­çš„æ‰€æœ‰ `monitor_sys_gen_server_detail_component` è¡¨åæ”¹ä¸º `monitor_sys_gen_server_component`

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å‘åå…¼å®¹æ€§**ï¼šç¡®ä¿ä¿®å¤ä¸ä¼šç ´åç°æœ‰åŠŸèƒ½
2. **æ•°æ®ç±»å‹è½¬æ¢**ï¼šæ³¨æ„å¸ƒå°”å€¼å’Œæ•°å­—å€¼ä¹‹é—´çš„è½¬æ¢
3. **å­—æ®µåˆå¹¶**ï¼šå°† Title å’Œ Name å­—æ®µåˆå¹¶ä¸ºä¸€ä¸ªå­—æ®µ
4. **APIä¸€è‡´æ€§**ï¼šç¡®ä¿å‰ç«¯å­—æ®µåä¸åç«¯APIå®Œå…¨ä¸€è‡´
5. **æµ‹è¯•è¦†ç›–**ï¼šç¡®ä¿æ‰€æœ‰ä¿®å¤çš„åŠŸèƒ½éƒ½ç»è¿‡æµ‹è¯•éªŒè¯

## ğŸ“Š ä¿®å¤è¯¦æƒ…ç»Ÿè®¡

### ä¿®å¤çš„å­—æ®µæ•°é‡
- **è¡¨å•å­—æ®µç»‘å®š**ï¼š12ä¸ªå­—æ®µ
- **è¡¨å•éªŒè¯è§„åˆ™**ï¼š5ä¸ªè§„åˆ™
- **JavaScriptå˜é‡å¼•ç”¨**ï¼š15ä¸ªå¼•ç”¨
- **é¢„è§ˆç»„ä»¶å¼•ç”¨**ï¼š6ä¸ªå¼•ç”¨
- **å‡½æ•°å‚æ•°å¼•ç”¨**ï¼š8ä¸ªå¼•ç”¨
- **æ€»è®¡ä¿®å¤**ï¼š46ä¸ªå­—æ®µå¼•ç”¨

### ä¿®å¤çš„å…·ä½“å­—æ®µ
1. `monitorSysGenServerDetailComponentName` â†’ `monitorSysGenServerComponentName`
2. `monitorSysGenServerDetailComponentTitle` â†’ `monitorSysGenServerComponentDescription` (åˆå¹¶)
3. `monitorSysGenServerDetailComponentType` â†’ `monitorSysGenServerComponentType`
4. `monitorSysGenServerDetailComponentExpressionType` â†’ `monitorSysGenServerComponentExpressionType`
5. `monitorSysGenServerDetailComponentExpression` â†’ `monitorSysGenServerComponentExpression`
6. `monitorSysGenServerDetailComponentRefreshInterval` â†’ `monitorSysGenServerComponentRefreshInterval`
7. `monitorSysGenServerDetailComponentSortOrder` â†’ `monitorSysGenServerComponentSort`
8. `monitorSysGenServerDetailComponentEnabled` â†’ `monitorSysGenServerComponentStatus`
9. `monitorSysGenServerDetailComponentDesc` â†’ `monitorSysGenServerComponentDescription`
10. `monitorSysGenServerDetailComponentChartConfig` â†’ `monitorSysGenServerComponentConfig`
11. `monitorSysGenServerDetailComponentPosition` â†’ `monitorSysGenServerComponentPosition`

## ğŸ§ª æµ‹è¯•éªŒè¯

### åˆ›å»ºçš„æµ‹è¯•æ–‡ä»¶
- `src/tests/component-field-mapping-test.ts` - å­—æ®µæ˜ å°„ä¸€è‡´æ€§æµ‹è¯•

### å»ºè®®çš„æµ‹è¯•æ­¥éª¤
1. è¿è¡Œå­—æ®µæ˜ å°„æµ‹è¯•ï¼š`npm run test:field-mapping`
2. æ‰‹åŠ¨æµ‹è¯•ç»„ä»¶åˆ›å»ºåŠŸèƒ½
3. æ‰‹åŠ¨æµ‹è¯•ç»„ä»¶ç¼–è¾‘åŠŸèƒ½
4. éªŒè¯ç»„ä»¶é€‰æ‹©å™¨åŠŸèƒ½
5. æ£€æŸ¥APIè¯·æ±‚å‚æ•°æ˜¯å¦æ­£ç¡®

## ğŸ”„ å›æ»šè®¡åˆ’

å¦‚æœä¿®å¤å‡ºç°é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. æ¢å¤åŸå§‹æ–‡ä»¶
2. é€æ­¥åº”ç”¨ä¿®å¤
3. åˆ†é˜¶æ®µæµ‹è¯•éªŒè¯
4. è®°å½•é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

## ğŸ‰ ä¿®å¤å®Œæˆ

âœ… **æ‰€æœ‰å­—æ®µæ˜ å°„é—®é¢˜å·²ä¿®å¤å®Œæˆï¼**

å‰åç«¯å­—æ®µç°åœ¨å®Œå…¨ä¸€è‡´ï¼Œåº”è¯¥èƒ½å¤Ÿè§£å†³ï¼š
- é¡µé¢æœåŠ¡å™¨åˆ—è¡¨ä¸­ç»„ä»¶æ— æ³•æ˜¾ç¤ºçš„é—®é¢˜
- æ–°å¢ç»„ä»¶å­—æ®µå¯¹ä¸ä¸Šçš„é—®é¢˜
- é€‰æ‹©ç»„ä»¶æ— æ³•æ˜¾ç¤ºçš„é—®é¢˜

## ğŸ”§ æœ€æ–°ä¿®å¤å†…å®¹ï¼ˆ2025-01-06ï¼‰

### ç»„ä»¶é€‰æ‹©å™¨åŠŸèƒ½ä¿®å¤

#### APIå‡½æ•°ä¿®å¤
- **æ–‡ä»¶**ï¼š`src/api/server/index.ts`
- **å‡½æ•°**ï¼š`getEnabledServerDetailComponents`
- **ä¿®å¤å†…å®¹**ï¼š
  - ç§»é™¤äº†ä¸å¿…è¦çš„çŠ¶æ€è¿‡æ»¤é€»è¾‘
  - å‡½æ•°ç°åœ¨è¿”å›æ‰€æœ‰ç»„ä»¶ï¼ˆåŒ…æ‹¬å¯ç”¨å’Œç¦ç”¨çš„ï¼‰ï¼Œè®©å‰ç«¯ç»„ä»¶é€‰æ‹©å™¨æ˜¾ç¤ºå®Œæ•´åˆ—è¡¨
  - æ›´æ–°äº†å‡½æ•°æ³¨é‡Šï¼Œæ¾„æ¸…äº†å…¶ç”¨é€”

#### UIåŠŸèƒ½ä¼˜åŒ–
- **æ–‡ä»¶**ï¼š`src/views/server/modules/server-detail-components/layout/ServerComponentLayout.vue`
- **ä¿®å¤å†…å®¹**ï¼š
  - æ·»åŠ äº†è¯¦ç»†çš„è°ƒè¯•æ—¥å¿—æ¥è¯Šæ–­ç»„ä»¶é€‰æ‹©å™¨æ˜¾ç¤ºé—®é¢˜
  - æš‚æ—¶éšè—äº†æœªå®ç°çš„å…±äº«ç»„ä»¶åŠŸèƒ½ï¼ˆæŒ‰é’®å’Œæ ‡ç­¾é¡µï¼‰
  - æ”¹è¿›äº†é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤ºä¿¡æ¯
  - å¢å¼ºäº†ç»„ä»¶è¿‡æ»¤é€»è¾‘çš„å¯è¯»æ€§

#### ä¿®å¤çš„å…·ä½“é—®é¢˜
1. **ç»„ä»¶é€‰æ‹©å™¨æ— æ³•æ˜¾ç¤ºå¯é€‰ç»„ä»¶** - é€šè¿‡ä¿®å¤APIé€»è¾‘å’Œæ·»åŠ è°ƒè¯•ä¿¡æ¯è§£å†³
2. **å…±äº«ç»„ä»¶åŠŸèƒ½æ··ä¹±** - é€šè¿‡æš‚æ—¶éšè—æœªå®ç°åŠŸèƒ½é¿å…ç”¨æˆ·å›°æƒ‘
3. **é”™è¯¯å¤„ç†ä¸å®Œå–„** - å¢åŠ äº†è¯¦ç»†çš„é”™è¯¯æç¤ºå’Œæ—¥å¿—è®°å½•

### ä¸‹ä¸€æ­¥å·¥ä½œ
1. ğŸ” **æµ‹è¯•éªŒè¯**ï¼šåœ¨å¼€å‘ç¯å¢ƒä¸­æµ‹è¯•ç»„ä»¶é€‰æ‹©å™¨åŠŸèƒ½
2. ğŸ“Š **æ—¥å¿—åˆ†æ**ï¼šæ ¹æ®è°ƒè¯•æ—¥å¿—åˆ†æå¯èƒ½å­˜åœ¨çš„é—®é¢˜
3. ğŸš€ **åŠŸèƒ½å®Œå–„**ï¼šå®ç°å®Œæ•´çš„å…±äº«ç»„ä»¶åŠŸèƒ½ï¼ˆå¦‚æœä¸šåŠ¡éœ€è¦ï¼‰
4. ğŸ—„ï¸ **åç«¯ä¿®å¤**ï¼šè§£å†³åç«¯æ•°æ®åº“è¡¨åæ˜ å°„é—®é¢˜
