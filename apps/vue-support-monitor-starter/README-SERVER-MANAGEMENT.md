# 服务器管理界面

这是一个现代化的服务器管理界面，提供了全面的服务器监控、远程连接和管理功能。

## 功能特性

### 🖥️ 服务器管理
- **服务器列表**: 左右分割布局，左侧显示服务器卡片列表，右侧显示详细信息
- **实时状态**: 显示服务器在线状态、CPU、内存、磁盘使用率
- **分组管理**: 支持服务器分组，便于分类管理
- **搜索过滤**: 支持按名称、地址、协议、状态等条件筛选

### 📊 实时监控
- **指标监控**: 实时显示CPU、内存、磁盘、网络等系统指标
- **图表展示**: 直观的进度条和图表显示指标数据
- **历史数据**: 查看历史指标数据和趋势分析
- **告警配置**: 自定义告警规则和通知方式

### 🔗 远程连接
- **SSH终端**: 基于xterm.js的Web SSH终端
- **RDP桌面**: 基于Guacamole的远程桌面连接
- **VNC桌面**: VNC协议的远程桌面访问
- **文件管理**: Web文件管理器，支持上传下载

### ⚙️ 高级功能
- **脚本执行**: 远程执行Shell、PowerShell、Python等脚本
- **批量操作**: 支持批量连接、监控、配置等操作
- **告警管理**: 完整的告警规则配置和历史记录
- **操作日志**: 详细的操作日志记录和审计

## 界面布局

### 主界面结构
```
┌─────────────────────────────────────────────────────────┐
│                    顶部工具栏                              │
│  [服务器管理] [连接状态] [视图切换] [筛选] [搜索] [操作]      │
├─────────────────┬───────────────────────────────────────┤
│                 │                                       │
│   左侧服务器列表   │           右侧内容区域                  │
│                 │                                       │
│  ┌─────────────┐ │  ┌─────────────────────────────────┐  │
│  │ 服务器卡片1  │ │  │                                 │  │
│  │ [状态][指标] │ │  │        动态组件区域              │  │
│  └─────────────┘ │  │    (监控/终端/桌面/文件管理)      │  │
│  ┌─────────────┐ │  │                                 │  │
│  │ 服务器卡片2  │ │  │                                 │  │
│  │ [状态][指标] │ │  │                                 │  │
│  └─────────────┘ │  └─────────────────────────────────┘  │
│       ...        │                                       │
└─────────────────┴───────────────────────────────────────┘
```

### 服务器卡片信息
- 服务器名称和地址
- 协议类型图标
- 在线状态标签
- 实时指标进度条（CPU、内存、磁盘）
- 快捷操作按钮

### 右侧内容区域
根据选择的服务器和操作，动态显示不同的组件：
- **ServerMonitor**: 服务器监控面板
- **SSHTerminal**: SSH终端
- **RDPDesktop**: RDP远程桌面
- **VNCDesktop**: VNC远程桌面
- **FileManager**: 文件管理器

## 组件说明

### 1. ServerMonitor 组件
显示服务器的详细监控信息：
- 系统信息（操作系统、主机名、运行时间）
- 实时指标（CPU、内存、磁盘、网络）
- 温度信息（如果支持）
- 自动刷新和手动刷新功能

### 2. SSHTerminal 组件
提供Web SSH终端功能：
- 基于xterm.js的终端模拟器
- 支持颜色和特殊字符
- 连接状态显示
- 复制粘贴功能
- 字体和主题设置

### 3. RDPDesktop 组件
提供RDP远程桌面功能：
- 基于Guacamole的RDP客户端
- 支持全屏模式
- 文件传输功能
- 剪贴板同步
- 画质调节

### 4. VNCDesktop 组件
提供VNC远程桌面功能：
- VNC协议支持
- 虚拟键盘
- 截图功能
- 压缩级别调节
- 帧率监控

### 5. FileManager 组件
提供文件管理功能：
- 目录浏览和导航
- 文件上传下载
- 文件编辑（文本文件）
- 文件重命名删除
- 批量操作

## 对话框组件

### 1. ServerEditDialog
服务器添加/编辑对话框：
- 基本信息配置
- 连接参数设置
- 高级选项配置
- 连接测试功能

### 2. BatchOperationDialog
批量操作对话框：
- 支持多种批量操作
- 并行/顺序执行模式
- 实时进度显示
- 操作日志记录

### 3. ScriptExecutorDialog
脚本执行器：
- 多种脚本类型支持
- 脚本模板库
- 实时输出显示
- 执行结果保存

### 4. AlertConfigDialog
告警配置对话框：
- 告警规则管理
- 通知方式配置
- 告警历史查看
- 规则导入导出

### 5. OperationLogDialog
操作日志对话框：
- 操作记录查询
- 日志详情查看
- 统计信息显示
- 日志导出功能

## 实时通信

### WebSocket连接
- 自动连接和重连机制
- 实时状态更新
- 指标数据推送
- 连接状态显示

### 消息类型
- `server_status_change`: 服务器状态变化
- `server_metrics_update`: 指标数据更新
- `server_online`: 服务器上线
- `server_offline`: 服务器离线

## 响应式设计

### 桌面端 (>1200px)
- 完整的左右分割布局
- 所有功能完全展示
- 最佳的用户体验

### 平板端 (768px-1200px)
- 调整面板宽度
- 简化部分操作
- 保持核心功能

### 移动端 (<768px)
- 垂直布局
- 隐藏拖拽分割线
- 工具栏折叠显示
- 触摸友好的操作

## 使用指南

### 1. 添加服务器
1. 点击顶部工具栏的"新增"按钮
2. 填写服务器基本信息
3. 配置连接参数
4. 测试连接
5. 保存配置

### 2. 连接服务器
1. 在左侧列表中选择服务器
2. 点击服务器卡片上的连接按钮
3. 或在右侧面板中选择连接类型

### 3. 监控服务器
1. 选择服务器后自动显示监控面板
2. 查看实时指标数据
3. 设置告警规则
4. 查看历史数据

### 4. 文件管理
1. 选择服务器
2. 切换到文件管理组件
3. 浏览目录结构
4. 执行文件操作

### 5. 执行脚本
1. 打开脚本执行器
2. 选择脚本类型
3. 编写或选择脚本模板
4. 执行并查看结果

## 技术栈

### 前端技术
- **Vue 3**: 响应式框架
- **TypeScript**: 类型安全
- **Element Plus**: UI组件库
- **xterm.js**: 终端模拟器
- **Socket.IO**: 实时通信

### 后端技术
- **Spring Boot**: 后端框架
- **WebSocket**: 实时通信
- **Guacamole**: 远程桌面
- **SSH客户端**: SSH连接

### 样式设计
- **SCSS**: CSS预处理器
- **响应式设计**: 多设备适配
- **暗色主题**: 护眼设计
- **动画效果**: 流畅交互

## 配置说明

### 环境变量
```bash
# WebSocket服务地址
VITE_WEBSOCKET_URL=ws://localhost:9092

# API服务地址
VITE_API_BASE_URL=http://localhost:8080

# 是否启用调试模式
VITE_DEBUG_MODE=true
```

### 后端配置
参考 `application-monitor.yml` 配置文件，包含：
- 监控系统配置
- WebSocket配置
- 数据库配置
- 安全配置
- 性能配置

## 开发指南

### 本地开发
```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build
```

### 添加新功能
1. 在 `components` 目录下创建新组件
2. 在主页面中注册异步组件
3. 添加对应的路由和状态管理
4. 更新类型定义

### 自定义主题
修改 `src/styles/variables.scss` 文件中的CSS变量来自定义主题。

## 故障排除

### 常见问题
1. **WebSocket连接失败**: 检查后端服务是否启动，端口是否正确
2. **SSH连接超时**: 检查网络连接和防火墙设置
3. **文件上传失败**: 检查文件大小限制和权限设置
4. **指标数据不更新**: 检查设备监控配置和定时任务

### 调试方法
1. 打开浏览器开发者工具
2. 查看控制台错误信息
3. 检查网络请求状态
4. 查看WebSocket连接状态

## 更新日志

### v1.0.0 (2024-12-19)
- 初始版本发布
- 完整的服务器管理功能
- 实时监控和远程连接
- 响应式设计支持

---

如有问题或建议，请联系开发团队。
