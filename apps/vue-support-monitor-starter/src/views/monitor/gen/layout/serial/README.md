# 串口监控组件

## 功能概述

这是一个功能完整的串口监控管理组件，提供了串口设备的管理、连接、数据收发和实时监控功能。

## 主要特性

### 🔧 设备管理
- **设备列表**: 显示所有配置的串口设备
- **添加设备**: 支持添加新的串口设备配置
- **编辑设备**: 修改现有设备的配置参数
- **删除设备**: 删除不需要的设备配置
- **设备状态**: 实时显示设备连接状态

### 📡 连接管理
- **一键连接**: 快速连接到选定的串口设备
- **状态监控**: 实时显示连接状态和设备信息
- **自动重连**: 支持连接断开后的自动重连机制
- **连接统计**: 显示发送、接收和错误统计

### 💬 数据通信
- **实时收发**: 支持文本和HEX格式的数据收发
- **快捷命令**: 预设常用的AT命令和控制指令
- **数据格式**: 支持文本和十六进制两种显示模式
- **时间戳**: 可选择显示消息时间戳

### 📊 监控界面
- **终端风格**: 类似终端的数据显示界面
- **颜色区分**: 发送、接收、系统消息用不同颜色标识
- **自动滚动**: 支持自动滚动到最新消息
- **日志导出**: 支持将监控日志导出为文本文件

### 🔌 Socket集成
- **实时通信**: 通过WebSocket实现实时数据传输
- **事件监听**: 监听 `gen/serial/{serialId}` 事件
- **状态同步**: 实时同步设备状态变化
- **错误处理**: 完善的错误处理和重连机制

## 技术实现

### 前端技术栈
- **Vue 3**: 使用Composition API
- **TypeScript**: 完整的类型支持
- **Element Plus**: UI组件库
- **Socket.IO**: WebSocket通信
- **SCSS**: 样式预处理

### API接口
- `fetchSerialPage`: 获取串口设备列表
- `fetchSerialSave`: 保存新的串口设备
- `fetchSerialUpdate`: 更新串口设备配置
- `fetchSerialDelete`: 删除串口设备
- `fetchSerialStart`: 启动串口连接
- `fetchSerialStop`: 停止串口连接

### Socket事件
- `gen/serial/{serialId}`: 监听特定串口的数据和状态
- `gen/serial/{serialId}/send`: 发送数据到串口

## 使用方法

### 1. 添加串口设备
1. 点击右上角的"+"按钮
2. 填写设备信息（名称、端口、波特率等）
3. 点击保存

### 2. 连接设备
1. 从左侧列表选择要连接的设备
2. 点击设备操作菜单中的"连接"
3. 或者在设备详情中点击连接按钮

### 3. 发送数据
1. 在底部输入框中输入要发送的内容
2. 选择发送格式（文本或HEX）
3. 点击发送按钮或按回车键

### 4. 监控数据
- 所有收发的数据会在中央监控区域显示
- 不同类型的消息用不同颜色标识
- 支持实时滚动和历史查看

## 配置参数

### 串口参数
- **设备名称**: 自定义的设备标识名称
- **串口端口**: 如 COM1, /dev/ttyUSB0
- **波特率**: 110-921600 bps
- **数据位**: 5-8位
- **停止位**: 1, 1.5, 2位
- **校验位**: 无、奇校验、偶校验、标记、空格
- **超时时间**: 1000-60000毫秒

### 显示选项
- **自动滚动**: 自动滚动到最新消息
- **显示时间戳**: 在消息前显示时间戳
- **HEX模式**: 以十六进制格式显示数据
- **发送选项**: 发送后添加换行符

## 样式特性

### 响应式设计
- 支持桌面和移动端显示
- 自适应布局调整
- 优化的触摸交互

### 主题支持
- 支持明暗主题切换
- 终端风格的监控界面
- 现代化的卡片设计

### 交互体验
- 流畅的动画效果
- 直观的状态指示
- 友好的错误提示

## 扩展功能

### 快捷命令
- AT: 基本AT命令
- AT+GMR: 查询版本信息
- AT+RST: 重启设备
- \r\n: 发送回车换行

### 数据处理
- 支持自定义数据格式
- 可扩展的命令预设
- 灵活的数据过滤

## 注意事项

1. **权限要求**: 需要串口访问权限
2. **设备兼容**: 支持标准串口设备
3. **并发连接**: 同时只能连接一个设备
4. **数据安全**: 敏感数据请谨慎处理
5. **性能优化**: 大量数据时建议启用日志限制

## 故障排除

### 常见问题
1. **连接失败**: 检查端口是否被占用
2. **数据乱码**: 确认波特率和编码设置
3. **Socket断开**: 检查网络连接和服务状态
4. **权限错误**: 确认串口访问权限

### 调试方法
- 查看浏览器控制台日志
- 检查Socket连接状态
- 验证API响应数据
- 确认设备配置参数
